# The OpenAI API key
quarkus.langchain4j.openai.api-key=${OPENAI_API_KEY:test-openai-key}
quarkus.langchain4j.openai.base-url=${OPENAI_BASE_URL:https://api.openai.com/v1}

# Base URL / client configuration for the memory service that this agent delegates to
# memory-service-client.url=${MEMORY_SERVICE_URL:http://localhost:8081}
quarkus.quinoa=true
quarkus.quinoa.package-manager-install.node-version=20.10.0
quarkus.quinoa.package-manager-install=false
quarkus.quinoa.ui-root-path=/
quarkus.quinoa.build-dir=dist

# OIDC / Keycloak configuration 
quarkus.oidc.client-id=memory-service-client
quarkus.oidc.credentials.secret=${KEYCLOAK_CLIENT_SECRET:change-me}
quarkus.oidc.application-type=hybrid
quarkus.oidc.roles.source=accesstoken
quarkus.oidc.token-state-manager.split-tokens=false
quarkus.oidc.token-state-manager.encryption-secret=standard-dev-encryption-secret-32-chars

quarkus.http.auth.permission.public.paths=/v1/*
quarkus.http.auth.permission.public.policy=permit
quarkus.http.auth.permission.authenticated.paths=/*
quarkus.http.auth.permission.authenticated.policy=authenticated

# Enable PostgreSQL dev service for the memory-service container to use
quarkus.datasource.db-kind=postgresql
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.db-name=memory_service
# To be able to use the pgvector dev service, we need to set the image name
quarkus.datasource.devservices.image-name=pgvector/pgvector:pg17

# Enable Redis-based response resumer
# Enable Redis dev service for the memory-service container to use
quarkus.redis.devservices.enabled=true
memory-service.response-resumer=redis

# Enable HTTP access logging
quarkus.http.access-log.enabled=true
quarkus.log.category."io.quarkus.http.access-log".level=INFO
