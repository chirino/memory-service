<p>Run your agent again:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#E1E4E8"> OPENAI_API_KEY</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">your-api-key</span></span>
<span class="line"><span style="color:#B392F0">./mvnw</span><span style="color:#9ECBFF"> quarkus:dev</span></span></code></pre><p>Make sure you define a shell function that can get the bearer token for the bob user:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> get-token</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#B392F0">  curl</span><span style="color:#79B8FF"> -sSfX</span><span style="color:#9ECBFF"> POST</span><span style="color:#9ECBFF"> http://localhost:8081/realms/memory-service/protocol/openid-connect/token</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">    -H</span><span style="color:#9ECBFF"> &quot;Content-Type: application/x-www-form-urlencoded&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">    -d</span><span style="color:#9ECBFF"> &quot;client_id=memory-service-client&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">    -d</span><span style="color:#9ECBFF"> &quot;client_secret=change-me&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">    -d</span><span style="color:#9ECBFF"> &quot;grant_type=password&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">    -d</span><span style="color:#9ECBFF"> &quot;username=bob&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">    -d</span><span style="color:#9ECBFF"> &quot;password=bob&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#F97583">    |</span><span style="color:#B392F0"> jq</span><span style="color:#79B8FF"> -r</span><span style="color:#9ECBFF"> &#39;.access_token&#39;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre><p>Test it with curl—now with conversation memory:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">curl</span><span style="color:#79B8FF"> -NsSfX</span><span style="color:#9ECBFF"> POST</span><span style="color:#9ECBFF"> http://localhost:9090/chat/3579aac5-c86e-4b67-bbea-6ec1a3644942</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  -H</span><span style="color:#9ECBFF"> &quot;Content-Type: text/plain&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  -H</span><span style="color:#9ECBFF"> &quot;Authorization: Bearer $(</span><span style="color:#B392F0">get-token</span><span style="color:#9ECBFF">)&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  -d</span><span style="color:#9ECBFF"> &quot;Hi, I&#39;m Hiram, who are you?&quot;</span></span></code></pre><p><strong>Expected</strong>: Response should contain “I am”</p><div class="steps" hidden data-steps="
Then the response status should be 200
And the response body should be text:
&#34;&#34;&#34;
Hi Hiram! I'm an AI created to help answer questions and provide information. How can I assist you today?
&#34;&#34;&#34;
"></div><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">curl</span><span style="color:#79B8FF"> -NsSfX</span><span style="color:#9ECBFF"> POST</span><span style="color:#9ECBFF"> http://localhost:9090/chat/3579aac5-c86e-4b67-bbea-6ec1a3644942</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  -H</span><span style="color:#9ECBFF"> &quot;Content-Type: text/plain&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  -H</span><span style="color:#9ECBFF"> &quot;Authorization: Bearer $(</span><span style="color:#B392F0">get-token</span><span style="color:#9ECBFF">)&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  -d</span><span style="color:#9ECBFF"> &quot;Who am I?&quot;</span></span></code></pre><p><strong>Expected</strong>: Response should contain “Hiram”</p><div class="steps" hidden data-steps="
Then the response status should be 200
And the response should contain &#34;Hiram&#34;
"></div>